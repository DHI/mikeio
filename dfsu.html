
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dfsu and Mesh &#8212; MIKE IO  documentation</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="EUM and items" href="eum.html" />
    <link rel="prev" title="Dfs1, Dfs2 and Dfs3" href="dfs123.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/MIKE-IO-Logo-Pos-RGB.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">MIKE IO  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="getting_started.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="design.html">
   Design philosophy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dataset.html">
   Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dfs0.html">
   Dfs0
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dfs123.html">
   Dfs1, Dfs2 and Dfs3
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Dfsu and Mesh
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="eum.html">
   EUM and items
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="generic.html">
   Generic
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/dfsu.rst.txt"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-flexible-mesh">
   The flexible mesh
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-dfsu-and-mesh-properties">
   Common Dfsu and Mesh properties
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#common-dfsu-and-mesh-methods">
   Common Dfsu and Mesh methods
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mesh-functionality">
   Mesh functionality
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dfsu-functionality">
   Dfsu functionality
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dfsu-types">
   Dfsu types
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#layered-dfsu-files">
   Layered dfsu files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dfsu-api">
   Dfsu API
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mesh-api">
   Mesh API
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="dfsu-and-mesh">
<span id="dfsu"></span><h1>Dfsu and Mesh<a class="headerlink" href="#dfsu-and-mesh" title="Permalink to this headline">¶</a></h1>
<p>Dfsu and mesh files are both flexible mesh file formats used by MIKE 21/3 engines.
The .mesh file is an ASCII format for storing the flexible mesh geometry.
The .dfsu file is a binary dfs file with data on this mesh. The mesh geometry is
available in a .dfsu file as static items.</p>
<p>For a detailed description of the .mesh and .dfsu file specification see the <a class="reference external" href="https://manuals.mikepoweredbydhi.help/2021/General/FM_FileSpecification.pdf">flexible file format documentation</a>.</p>
<div class="section" id="the-flexible-mesh">
<h2>The flexible mesh<a class="headerlink" href="#the-flexible-mesh" title="Permalink to this headline">¶</a></h2>
<p>The mesh geometry in a .mesh or a .dfsu file consists of a number of nodes and a number of elements.</p>
<p>Each node has:</p>
<ul class="simple">
<li><p>Node id</p></li>
<li><p>X,Y,Z coordinate</p></li>
<li><p>Code for the boundary</p></li>
</ul>
<p>Each element has:</p>
<ul class="simple">
<li><p>Element id</p></li>
<li><p>Element type; triangular, quadrilateral, prism etc.</p></li>
<li><p>Element table; specifies for each element the nodes that defines the element.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In MIKE Zero, node ids, element ids and layer ids are 1-based.
In MIKE IO, all ids are <strong>0-based</strong> following standard Python indexing.
That means, as an example, that when finding the element closest to a
point its id will be 1 lower in MIKE IO compared to examining the file in MIKE Zero.</p>
</div>
</div>
<div class="section" id="common-dfsu-and-mesh-properties">
<h2>Common Dfsu and Mesh properties<a class="headerlink" href="#common-dfsu-and-mesh-properties" title="Permalink to this headline">¶</a></h2>
<p>MIKE IO has a <a class="reference external" href="#mikeio.Dfsu">Dfsu class</a> for handling .dfsu files
and a <a class="reference external" href="#mikeio.Mesh">Mesh class</a> for handling .mesh files both they inherit from the
same base class and have the same core functionality.</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.n_nodes" title="mikeio.Mesh.n_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.n_nodes</span></code></a></p></td>
<td><p>Number of nodes</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.node_coordinates" title="mikeio.Mesh.node_coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.node_coordinates</span></code></a></p></td>
<td><p>Coordinates (x,y,z) of all nodes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.codes" title="mikeio.Mesh.codes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.codes</span></code></a></p></td>
<td><p>Node codes of all nodes (0=water, 1=land, 2...=open boundaries)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.boundary_polylines" title="mikeio.Mesh.boundary_polylines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.boundary_polylines</span></code></a></p></td>
<td><p>Lists of closed polylines defining domain outline</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.n_elements" title="mikeio.Mesh.n_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.n_elements</span></code></a></p></td>
<td><p>Number of elements</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.element_coordinates" title="mikeio.Mesh.element_coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.element_coordinates</span></code></a></p></td>
<td><p>Center coordinates of each element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.element_table" title="mikeio.Mesh.element_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.element_table</span></code></a></p></td>
<td><p>Element to node connectivity</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.max_nodes_per_element" title="mikeio.Mesh.max_nodes_per_element"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.max_nodes_per_element</span></code></a></p></td>
<td><p>The maximum number of nodes for an element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.is_tri_only" title="mikeio.Mesh.is_tri_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.is_tri_only</span></code></a></p></td>
<td><p>Does the mesh consist of triangles only?</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.projection_string" title="mikeio.Mesh.projection_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.projection_string</span></code></a></p></td>
<td><p>The projection string</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.is_geo" title="mikeio.Mesh.is_geo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.is_geo</span></code></a></p></td>
<td><p>Are coordinates geographical (LONG/LAT)?</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.is_local_coordinates" title="mikeio.Mesh.is_local_coordinates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.is_local_coordinates</span></code></a></p></td>
<td><p>Are coordinates relative (NON-UTM)?</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.type_name" title="mikeio.Mesh.type_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.type_name</span></code></a></p></td>
<td><p>Type name, e.g.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="common-dfsu-and-mesh-methods">
<h2>Common Dfsu and Mesh methods<a class="headerlink" href="#common-dfsu-and-mesh-methods" title="Permalink to this headline">¶</a></h2>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.contains" title="mikeio.Mesh.contains"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.contains</span></code></a></p></td>
<td><p>test if a list of points are contained by mesh</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.find_nearest_elements" title="mikeio.Mesh.find_nearest_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.find_nearest_elements</span></code></a></p></td>
<td><p>Find index of nearest elements (optionally for a list)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.plot" title="mikeio.Mesh.plot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.plot</span></code></a></p></td>
<td><p>Plot unstructured data and/or mesh, mesh outline</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.to_shapely" title="mikeio.Mesh.to_shapely"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.to_shapely</span></code></a></p></td>
<td><p>Export mesh as shapely MultiPolygon</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.get_overset_grid" title="mikeio.Mesh.get_overset_grid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.get_overset_grid</span></code></a></p></td>
<td><p>get a 2d grid that covers the domain by specifying spacing or shape</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.get_2d_interpolant" title="mikeio.Mesh.get_2d_interpolant"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.get_2d_interpolant</span></code></a></p></td>
<td><p>IDW interpolant for list of coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.interp2d" title="mikeio.Mesh.interp2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.interp2d</span></code></a></p></td>
<td><p>interp spatially in data (2d only)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.get_element_area" title="mikeio.Mesh.get_element_area"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.get_element_area</span></code></a></p></td>
<td><p>Calculate the horizontal area of each element.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.elements_to_geometry" title="mikeio.Mesh.elements_to_geometry"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.elements_to_geometry</span></code></a></p></td>
<td><p>export elements to new flexible file geometry</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mesh-functionality">
<h2>Mesh functionality<a class="headerlink" href="#mesh-functionality" title="Permalink to this headline">¶</a></h2>
<p>The Mesh class is initialized with a mesh or a dfsu file.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="s2">&quot;../tests/testdata/odense_rough.mesh&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span>
<span class="go">Number of elements: 654</span>
<span class="go">Number of nodes: 399</span>
<span class="go">Projection: UTM-33</span>
</pre></div>
</div>
<p>Apart from the common flexible file functionality,
the Mesh object has the following methods and properties:</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.write" title="mikeio.Mesh.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.write</span></code></a></p></td>
<td><p>write mesh to file (will overwrite if file exists)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Mesh.plot_boundary_nodes" title="mikeio.Mesh.plot_boundary_nodes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.plot_boundary_nodes</span></code></a></p></td>
<td><p>Plot mesh boundary nodes and their codes</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Mesh.zn" title="mikeio.Mesh.zn"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Mesh.zn</span></code></a></p></td>
<td><p>Static bathymetry values (depth) at nodes</p></td>
</tr>
</tbody>
</table>
<p>See the <a class="reference external" href="#mikeio.Mesh">Mesh API specification</a> below for a detailed description.
See the <a class="reference external" href="https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Mesh.ipynb">Mesh Example notebook</a> for more Mesh operations (including shapely examples).</p>
</div>
<div class="section" id="dfsu-functionality">
<h2>Dfsu functionality<a class="headerlink" href="#dfsu-functionality" title="Permalink to this headline">¶</a></h2>
<p>The Dfsu class is initialized with a mesh or a dfsu file.</p>
<p>Apart from the common flexible file functionality, the Dfsu has the following <em>properties</em>:</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.deletevalue" title="mikeio.Dfsu.deletevalue"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.deletevalue</span></code></a></p></td>
<td><p>File delete value</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.n_items" title="mikeio.Dfsu.n_items"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.n_items</span></code></a></p></td>
<td><p>Number of items</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.items" title="mikeio.Dfsu.items"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.items</span></code></a></p></td>
<td><p>List of items</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.n_timesteps" title="mikeio.Dfsu.n_timesteps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.n_timesteps</span></code></a></p></td>
<td><p>Number of time steps</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.start_time" title="mikeio.Dfsu.start_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.start_time</span></code></a></p></td>
<td><p>File start time</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.end_time" title="mikeio.Dfsu.end_time"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.end_time</span></code></a></p></td>
<td><p>File end time</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.timestep" title="mikeio.Dfsu.timestep"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.timestep</span></code></a></p></td>
<td><p>Time step size in seconds</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.is_2d" title="mikeio.Dfsu.is_2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.is_2d</span></code></a></p></td>
<td><p>Type is either mesh or Dfsu2D (2 horizontal dimensions)</p></td>
</tr>
</tbody>
</table>
<p>Apart from the common flexible file functionality, the Dfsu has the following <em>methods</em>:</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.read" title="mikeio.Dfsu.read"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.read</span></code></a></p></td>
<td><p>Read data from a dfsu file</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.write" title="mikeio.Dfsu.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.write</span></code></a></p></td>
<td><p>Write a new dfsu file</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.write_header" title="mikeio.Dfsu.write_header"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.write_header</span></code></a></p></td>
<td><p>Write the header of a new dfsu file (for writing huge files)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.close" title="mikeio.Dfsu.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.close</span></code></a></p></td>
<td><p>Finalize write for a dfsu file opened with <cite>write(...,keep_open=True)</cite></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.extract_track" title="mikeio.Dfsu.extract_track"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.extract_track</span></code></a></p></td>
<td><p>Extract track data from a dfsu file</p></td>
</tr>
</tbody>
</table>
<p>See the <a class="reference external" href="#mikeio.Dfsu">Dfsu API specification</a> below for a detailed description.
See the <a class="reference external" href="https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfsu%20-%20Read.ipynb">Dfsu Read Example notebook</a> for basic dfsu functionality.</p>
</div>
<div class="section" id="dfsu-types">
<h2>Dfsu types<a class="headerlink" href="#dfsu-types" title="Permalink to this headline">¶</a></h2>
<p>The following dfsu file types are supported by MIKE IO.</p>
<ul class="simple">
<li><p>2D horizontal.</p></li>
<li><p>3D layered.</p></li>
<li><p>2D vertical profile - a vertical slice through a 3D layered file.</p></li>
<li><p>1D vertical column - a vertical dfs1 file and is produced by taking out one column of a 3D layered file.</p></li>
<li><p>3D/4D SW, two horizontal dimensions and 1-2 spectral dimensions. Output from MIKE 21 SW.</p></li>
</ul>
<p>The layered files (3d, 2d/1d vertical) can have both sigma- and z-layers or only sigma-layers.</p>
<p>In most cases values are stored in cell centers and vertical (z) information in nodes,
but the following values types exists:</p>
<ul class="simple">
<li><p>Standard value type, storing values on elements and/or nodes. This is the default type.</p></li>
<li><p>Face value type, storing values on element faces. This is used e.g. for HD decoupling files, to store the discharge between elements.</p></li>
<li><p>Spectral value type, for each node or element, storing vales for a number of frequencies and/or directions. This is the file type for spectral output from the MIKE 21 SW.</p></li>
</ul>
</div>
<div class="section" id="layered-dfsu-files">
<h2>Layered dfsu files<a class="headerlink" href="#layered-dfsu-files" title="Permalink to this headline">¶</a></h2>
<p>There are three type of layered dfsu files: 3D dfsu, 2d vertical slices and 1d vertical profiles.</p>
<p>Apart from the basic dfsu functionality, layered dfsu have the below additional <em>properties</em>:</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.n_layers" title="mikeio.Dfsu.n_layers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.n_layers</span></code></a></p></td>
<td><p>Maximum number of layers</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.n_sigma_layers" title="mikeio.Dfsu.n_sigma_layers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.n_sigma_layers</span></code></a></p></td>
<td><p>Number of sigma layers</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.n_z_layers" title="mikeio.Dfsu.n_z_layers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.n_z_layers</span></code></a></p></td>
<td><p>Maximum number of z-layers</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.layer_ids" title="mikeio.Dfsu.layer_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.layer_ids</span></code></a></p></td>
<td><p>The layer number (0=bottom, 1, 2, ...) for each 3d element</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.top_elements" title="mikeio.Dfsu.top_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.top_elements</span></code></a></p></td>
<td><p>List of 3d element ids of surface layer</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.bottom_elements" title="mikeio.Dfsu.bottom_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.bottom_elements</span></code></a></p></td>
<td><p>List of 3d element ids of bottom layer</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.n_layers_per_column" title="mikeio.Dfsu.n_layers_per_column"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.n_layers_per_column</span></code></a></p></td>
<td><p>List of number of layers for each column</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.geometry2d" title="mikeio.Dfsu.geometry2d"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.geometry2d</span></code></a></p></td>
<td><p>The 2d geometry for a 3d object</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.e2_e3_table" title="mikeio.Dfsu.e2_e3_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.e2_e3_table</span></code></a></p></td>
<td><p>The 2d-to-3d element connectivity table for a 3d object</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.elem2d_ids" title="mikeio.Dfsu.elem2d_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.elem2d_ids</span></code></a></p></td>
<td><p>The associated 2d element id for each 3d element</p></td>
</tr>
</tbody>
</table>
<p>Apart from the basic dfsu functionality, layered dfsu have the below additional <em>methods</em>:</p>
<table class="longtable table autosummary">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.get_layer_elements" title="mikeio.Dfsu.get_layer_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.get_layer_elements</span></code></a></p></td>
<td><p>3d element ids for one (or more) specific layer(s)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#mikeio.Dfsu.find_nearest_profile_elements" title="mikeio.Dfsu.find_nearest_profile_elements"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.find_nearest_profile_elements</span></code></a></p></td>
<td><p>Find 3d elements of profile nearest to (x,y) coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#mikeio.Dfsu.plot_vertical_profile" title="mikeio.Dfsu.plot_vertical_profile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">mikeio.Dfsu.plot_vertical_profile</span></code></a></p></td>
<td><p>Plot unstructured vertical profile</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>In MIKE Zero, layer ids are 1-based.
In MIKE IO, all ids are <strong>0-based</strong> following standard Python indexing.
The bottom layer is 0.
In previous versions of MIKE IO, layer ids was 1-based!
From release 0.10 all ids are 0-based.</p>
</div>
</div>
<div class="section" id="dfsu-api">
<h2>Dfsu API<a class="headerlink" href="#dfsu-api" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mikeio.Dfsu">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mikeio.</span></span><span class="sig-name descname"><span class="pre">Dfsu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype=&lt;class</span> <span class="pre">'numpy.float64'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.append" title="Permalink to this definition">¶</a></dt>
<dd><p>Append to a dfsu file opened with <cite>write(…,keep_open=True)</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>list</em><em>[</em><em>np.array</em><em>]</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.bottom_elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bottom_elements</span></span><a class="headerlink" href="#mikeio.Dfsu.bottom_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>List of 3d element ids of bottom layer</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.boundary_codes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boundary_codes</span></span><a class="headerlink" href="#mikeio.Dfsu.boundary_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique list of boundary codes</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.boundary_polylines">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boundary_polylines</span></span><a class="headerlink" href="#mikeio.Dfsu.boundary_polylines" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists of closed polylines defining domain outline</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.calc_element_coordinates">
<span class="sig-name descname"><span class="pre">calc_element_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.calc_element_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the coordinates of the center of each element.</p>
<p>Only necessary for dynamic vertical coordinates,
otherwise use the property <em>element_coordinates</em> instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>np.array</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – element ids of selected elements</p></li>
<li><p><strong>zn</strong> (<em>np.array</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – only the z-coodinates of the nodes</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elem_ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_profile_elements</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Z coordinate&#39;</span><span class="p">,</span><span class="s1">&#39;Temperature&#39;</span><span class="p">],</span> <span class="n">elements</span><span class="o">=</span><span class="n">elem_ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ec_dyn</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">calc_element_coordinates</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="n">elem_ids</span><span class="p">,</span> <span class="n">zn</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;Z coordinate&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span> <span class="n">ec_dyn</span><span class="p">[:,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>x,y,z of each element</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalize write for a dfsu file opened with <cite>write(…,keep_open=True)</cite></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.codes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">codes</span></span><a class="headerlink" href="#mikeio.Dfsu.codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Node codes of all nodes (0=water, 1=land, 2…=open boundaries)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>test if a list of points are contained by mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<em>array-like n-by-2</em>) – x,y-coordinates of n points to be tested</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True for points inside, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool array</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.deletevalue">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">deletevalue</span></span><a class="headerlink" href="#mikeio.Dfsu.deletevalue" title="Permalink to this definition">¶</a></dt>
<dd><p>File delete value</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.e2_e3_table">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">e2_e3_table</span></span><a class="headerlink" href="#mikeio.Dfsu.e2_e3_table" title="Permalink to this definition">¶</a></dt>
<dd><p>The 2d-to-3d element connectivity table for a 3d object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.elem2d_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">elem2d_ids</span></span><a class="headerlink" href="#mikeio.Dfsu.elem2d_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>The associated 2d element id for each 3d element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.element_coordinates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">element_coordinates</span></span><a class="headerlink" href="#mikeio.Dfsu.element_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Center coordinates of each element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.element_table">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">element_table</span></span><a class="headerlink" href="#mikeio.Dfsu.element_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Element to node connectivity</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.elements_to_geometry">
<span class="sig-name descname"><span class="pre">elements_to_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_layers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.elements_to_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>export elements to new flexible file geometry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – list of element ids</p></li>
<li><p><strong>node_layers</strong> (<em>str</em><em>, </em><em>optional</em>) – for 3d files either ‘top’, ‘bottom’ layer nodes
or ‘all’ can be selected, by default ‘all’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>which can be used for further extraction or saved to file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>UnstructuredGeometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.end_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">end_time</span></span><a class="headerlink" href="#mikeio.Dfsu.end_time" title="Permalink to this definition">¶</a></dt>
<dd><p>File end time</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.extract_surface_elevation_from_3d">
<span class="sig-name descname"><span class="pre">extract_surface_elevation_from_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.extract_surface_elevation_from_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract surface elevation from a 3d dfsu file (based on zn)
to a new 2d dfsu file with a surface elevation item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – Output file name</p></li>
<li><p><strong>time_steps</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Extract only selected time_steps</p></li>
<li><p><strong>n_nearest</strong> (<em>int</em><em>, </em><em>optional</em>) – number of points for spatial interpolation (inverse_distance), default=4</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dfsu</span><span class="o">.</span><span class="n">extract_surface_elevation_from_3d</span><span class="p">(</span><span class="s1">&#39;ex_surf.dfsu&#39;</span><span class="p">,</span> <span class="n">time_steps</span><span class="o">=</span><span class="s1">&#39;2018-1-1,2018-2-1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.extract_track">
<span class="sig-name descname"><span class="pre">extract_track</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">track</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.extract_track" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract track data from a dfsu file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>track</strong> (<em>str</em>) – with DatetimeIndex and (x, y) of track points as first two columns
x,y coordinates must be in same coordinate system as dfsu</p></li>
<li><p><strong>track</strong> – filename of csv or dfs0 file containing t,x,y</p></li>
<li><p><strong>items</strong> (<em>list</em><em>[</em><em>int</em><em>] or </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Extract only selected items, by number (0-based), or by name</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – Spatial interpolation method (‘nearest’ or ‘inverse_distance’)
default=’nearest’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dataset with data dimension t
The first two items will be x- and y- coordinates of track</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="dataset.html#mikeio.Dataset" title="mikeio.Dataset">Dataset</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfsu</span><span class="o">.</span><span class="n">extract_track</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">xy</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;u&#39;</span><span class="p">,</span><span class="s1">&#39;v&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfsu</span><span class="o">.</span><span class="n">extract_track</span><span class="p">(</span><span class="s1">&#39;track_file.dfs0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfsu</span><span class="o">.</span><span class="n">extract_track</span><span class="p">(</span><span class="s1">&#39;track_file.csv&#39;</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.find_nearest_elements">
<span class="sig-name descname"><span class="pre">find_nearest_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_distances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.find_nearest_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Find index of nearest elements (optionally for a list)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em><em> or </em><em>array</em><em>(</em><em>float</em><em>)</em>) – X coordinate(s) (easting or longitude)</p></li>
<li><p><strong>y</strong> (<em>float</em><em> or </em><em>array</em><em>(</em><em>float</em><em>)</em>) – Y coordinate(s) (northing or latitude)</p></li>
<li><p><strong>z</strong> (<em>float</em><em> or </em><em>array</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – Z coordinate(s)  (vertical coordinate, positive upwards)
If not provided for a 3d file, the surface element is returned</p></li>
<li><p><strong>layer</strong> (<em>int</em><em>, </em><em>optional</em>) – Search in a specific layer only (3D files only)
Either z or layer (0-based) can be provided for a 3D file</p></li>
<li><p><strong>n_nearest</strong> (<em>int</em><em>, </em><em>optional</em>) – return this many (horizontally) nearest points for
each coordinate set, default=1</p></li>
<li><p><strong>return_distances</strong> (<em>bool</em><em>, </em><em>optional</em>) – should the horizontal distances to each point be returned?
default=False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em> – element ids of nearest element(s)</p></li>
<li><p><em>np.array, optional</em> – horizontal distances</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n_nearest</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xy</span><span class="p">,</span> <span class="n">return_distances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="o">=-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">n_nearest</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.find_nearest_profile_elements">
<span class="sig-name descname"><span class="pre">find_nearest_profile_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.find_nearest_profile_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Find 3d elements of profile nearest to (x,y) coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – x-coordinate of point</p></li>
<li><p><strong>y</strong> (<em>float</em>) – y-coordinate of point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element ids of vertical profile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.geometry2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geometry2d</span></span><a class="headerlink" href="#mikeio.Dfsu.geometry2d" title="Permalink to this definition">¶</a></dt>
<dd><p>The 2d geometry for a 3d object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.get_2d_interpolant">
<span class="sig-name descname"><span class="pre">get_2d_interpolant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_nearest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.get_2d_interpolant" title="Permalink to this definition">¶</a></dt>
<dd><p>IDW interpolant for list of coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> (<em>array-like</em>) – x,y coordinates of new points</p></li>
<li><p><strong>n_nearest</strong> (<em>int</em><em>, </em><em>optional</em>) – [description], by default 1</p></li>
<li><p><strong>extrapolate</strong> (<em>bool</em><em>, </em><em>optional</em>) – allow , by default False</p></li>
<li><p><strong>p</strong> (<em>float</em><em>, </em><em>optional</em>) – power of inverse distance weighting, default=2</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – an alternative to extrapolate=False,
only include elements within radius</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element ids and weights</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.get_element_area">
<span class="sig-name descname"><span class="pre">get_element_area</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.get_element_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the horizontal area of each element.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>areas in m2</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.get_layer_elements">
<span class="sig-name descname"><span class="pre">get_layer_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.get_layer_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>3d element ids for one (or more) specific layer(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>layer</strong> (<em>int</em><em> or </em><em>list</em><em>(</em><em>int</em><em>)</em>) – layer between 0 (bottom) and n_layers-1 (top)
(can also be negative counting from -1 at the top layer)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element ids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.get_node_centered_data">
<span class="sig-name descname"><span class="pre">get_node_centered_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.get_node_centered_data" title="Permalink to this definition">¶</a></dt>
<dd><p>convert cell-centered data to node-centered by pseudo-laplacian method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em><em>(</em><em>float</em><em>)</em>) – cell-centered data</p></li>
<li><p><strong>extrapolate</strong> (<em>bool</em><em>, </em><em>optional</em>) – allow the method to extrapolate, default:True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>node-centered data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.get_node_coords">
<span class="sig-name descname"><span class="pre">get_node_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.get_node_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the coordinates of each node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>code</strong> (<em>int</em>) – Get only nodes with specific code, e.g. land == 1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>x,y,z of each node</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.get_overset_grid">
<span class="sig-name descname"><span class="pre">get_overset_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.get_overset_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>get a 2d grid that covers the domain by specifying spacing or shape</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dx</strong> (<em>float</em><em> or </em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – grid resolution in x-direction (or in x- and y-direction)</p></li>
<li><p><strong>dy</strong> (<em>float</em><em>, </em><em>optional</em>) – grid resolution in y-direction</p></li>
<li><p><strong>shape</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – tuple with nx and ny describing number of points in each direction
one of them can be None, in which case the value will be inferred</p></li>
<li><p><strong>buffer</strong> (<em>float</em><em>, </em><em>optional</em>) – positive to make the area larger, default=0
can be set to a small negative value to avoid NaN
values all around the domain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d grid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;mikeio.Grid2D&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.interp2d">
<span class="sig-name descname"><span class="pre">interp2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.interp2d" title="Permalink to this definition">¶</a></dt>
<dd><p>interp spatially in data (2d only)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>ndarray</em><em> or </em><em>list</em><em>(</em><em>ndarray</em><em>)</em>) – dfsu data</p></li>
<li><p><strong>elem_ids</strong> (<em>ndarray</em><em>(</em><em>int</em><em>)</em>) – n sized array of 1 or more element ids used for interpolation</p></li>
<li><p><strong>weights</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – weights with same size as elem_ids used for interpolation</p></li>
<li><p><strong>shape</strong> (<em>tuple</em><em>, </em><em>optional</em>) – reshape output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>spatially interped data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray or list(ndarray)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfsu</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">get_overset_grid</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">40</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elem_ids</span><span class="p">,</span> <span class="n">weights</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">get_2d_interpolant</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">xy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dsi</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">interp2d</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">elem_ids</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.is_2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_2d</span></span><a class="headerlink" href="#mikeio.Dfsu.is_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Type is either mesh or Dfsu2D (2 horizontal dimensions)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.is_geo">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_geo</span></span><a class="headerlink" href="#mikeio.Dfsu.is_geo" title="Permalink to this definition">¶</a></dt>
<dd><p>Are coordinates geographical (LONG/LAT)?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.is_local_coordinates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_local_coordinates</span></span><a class="headerlink" href="#mikeio.Dfsu.is_local_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Are coordinates relative (NON-UTM)?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.is_tri_only">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_tri_only</span></span><a class="headerlink" href="#mikeio.Dfsu.is_tri_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the mesh consist of triangles only?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">items</span></span><a class="headerlink" href="#mikeio.Dfsu.items" title="Permalink to this definition">¶</a></dt>
<dd><p>List of items</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.layer_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">layer_ids</span></span><a class="headerlink" href="#mikeio.Dfsu.layer_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>The layer number (0=bottom, 1, 2, …) for each 3d element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.max_nodes_per_element">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_nodes_per_element</span></span><a class="headerlink" href="#mikeio.Dfsu.max_nodes_per_element" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of nodes for an element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_elements</span></span><a class="headerlink" href="#mikeio.Dfsu.n_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_items</span></span><a class="headerlink" href="#mikeio.Dfsu.n_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of items</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_layers</span></span><a class="headerlink" href="#mikeio.Dfsu.n_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of layers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_layers_per_column">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_layers_per_column</span></span><a class="headerlink" href="#mikeio.Dfsu.n_layers_per_column" title="Permalink to this definition">¶</a></dt>
<dd><p>List of number of layers for each column</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_nodes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_nodes</span></span><a class="headerlink" href="#mikeio.Dfsu.n_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of nodes</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_sigma_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sigma_layers</span></span><a class="headerlink" href="#mikeio.Dfsu.n_sigma_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of sigma layers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_timesteps">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_timesteps</span></span><a class="headerlink" href="#mikeio.Dfsu.n_timesteps" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of time steps</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.n_z_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_z_layers</span></span><a class="headerlink" href="#mikeio.Dfsu.n_z_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of z-layers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.node_coordinates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node_coordinates</span></span><a class="headerlink" href="#mikeio.Dfsu.node_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Coordinates (x,y,z) of all nodes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'patch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_refinements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot unstructured data and/or mesh, mesh outline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><em>a Dataset with a single item</em><em>, </em><em>optional</em>) – value for each element to plot, default bathymetry</p></li>
<li><p><strong>elements</strong> (<em>list</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – list of element ids to be plotted</p></li>
<li><p><strong>plot_type</strong> (<em>str</em><em>, </em><em>optional</em>) – type of plot: ‘patch’ (default), ‘mesh_only’, ‘shaded’,
‘contour’, ‘contourf’ or ‘outline_only’</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – axes title</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – colorbar label (or title if contour plot)</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib.cm.cmap</em><em>, </em><em>optional</em>) – colormap, default viridis</p></li>
<li><p><strong>vmin</strong> (<em>real</em><em>, </em><em>optional</em>) – lower bound of values to be shown on plot, default:None</p></li>
<li><p><strong>vmax</strong> (<em>real</em><em>, </em><em>optional</em>) – upper bound of values to be shown on plot, default:None</p></li>
<li><p><strong>levels</strong> (<em>int</em><em>, </em><em>list</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – for contour plots: how many levels, default:10
or a list of discrete levels e.g. [3.0, 4.5, 6.0]</p></li>
<li><p><strong>show_mesh</strong> (<em>bool</em><em>, </em><em>optional</em>) – should the mesh be shown on the plot? default=True</p></li>
<li><p><strong>show_outline</strong> (<em>bool</em><em>, </em><em>optional</em>) – should domain outline be shown on the plot? default=True</p></li>
<li><p><strong>n_refinements</strong> (<em>int</em><em>, </em><em>optional</em>) – for ‘shaded’ and ‘contour’ plots (and if show_mesh=False)
do this number of mesh refinements for smoother plotting</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – specify size of figure</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em><em>, </em><em>optional</em>) – Adding to existing axis, instead of creating new fig</p></li>
<li><p><strong>add_colorbar</strong> (<em>bool</em>) – Add colorbar to plot, default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;matplotlib.axes&gt;</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span> <span class="o">=</span> <span class="n">Dfsu</span><span class="p">(</span><span class="s2">&quot;HD2D.dfsu&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1"># bathymetry</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="s2">&quot;Surface elevation&quot;</span><span class="p">,</span> <span class="n">time_steps</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 884)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">n_items</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># plot surface elevation</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.plot_vertical_profile">
<span class="sig-name descname"><span class="pre">plot_vertical_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.plot_vertical_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot unstructured vertical profile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>np.array</em>) – value for each element to plot</p></li>
<li><p><strong>timestep</strong> (<em>int</em><em>, </em><em>optional</em>) – the timestep that fits with the data to get correct vertical
positions, default: use static vertical positions</p></li>
<li><p><strong>cmin</strong> (<em>real</em><em>, </em><em>optional</em>) – lower bound of values to be shown on plot, default:None</p></li>
<li><p><strong>cmax</strong> (<em>real</em><em>, </em><em>optional</em>) – upper bound of values to be shown on plot, default:None</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – axes title</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – colorbar label</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib.cm.cmap</em><em>, </em><em>optional</em>) – colormap, default viridis</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – specify size of figure</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em><em>, </em><em>optional</em>) – Adding to existing axis, instead of creating new fig</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;matplotlib.axes&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.projection_string">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">projection_string</span></span><a class="headerlink" href="#mikeio.Dfsu.projection_string" title="Permalink to this definition">¶</a></dt>
<dd><p>The projection string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from a dfsu file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>list</em><em>[</em><em>int</em><em>] or </em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>optional</em>) – Read only selected items, by number (0-based), or by name</p></li>
<li><p><strong>time_steps</strong> (<em>str</em><em>, </em><em>int</em><em> or </em><em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Read only selected time_steps</p></li>
<li><p><strong>elements</strong> (<em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Read only selected element ids</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Dataset with data dimensions [t,elements]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="dataset.html#mikeio.Dataset" title="mikeio.Dataset">Dataset</a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dfsu</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">&lt;mikeio.Dataset&gt;</span>
<span class="go">Dimensions: (9, 884)</span>
<span class="go">Time: 1985-08-06 07:00:00 - 1985-08-07 03:00:00</span>
<span class="go">Items:</span>
<span class="go">0:  Surface elevation &lt;Surface Elevation&gt; (meter)</span>
<span class="go">1:  U velocity &lt;u velocity component&gt; (meter per sec)</span>
<span class="go">2:  V velocity &lt;v velocity component&gt; (meter per sec)</span>
<span class="go">3:  Current speed &lt;Current Speed&gt; (meter per sec)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfsu</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">time_steps</span><span class="o">=</span><span class="s2">&quot;1985-08-06 12:00,1985-08-07 00:00&quot;</span><span class="p">)</span>
<span class="go">&lt;mikeio.Dataset&gt;</span>
<span class="go">Dimensions: (5, 884)</span>
<span class="go">Time: 1985-08-06 12:00:00 - 1985-08-06 22:00:00</span>
<span class="go">Items:</span>
<span class="go">0:  Surface elevation &lt;Surface Elevation&gt; (meter)</span>
<span class="go">1:  U velocity &lt;u velocity component&gt; (meter per sec)</span>
<span class="go">2:  V velocity &lt;v velocity component&gt; (meter per sec)</span>
<span class="go">3:  Current speed &lt;Current Speed&gt; (meter per sec)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.start_time">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start_time</span></span><a class="headerlink" href="#mikeio.Dfsu.start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>File start time</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.timestep">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">timestep</span></span><a class="headerlink" href="#mikeio.Dfsu.timestep" title="Permalink to this definition">¶</a></dt>
<dd><p>Time step size in seconds</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.to_2d_geometry">
<span class="sig-name descname"><span class="pre">to_2d_geometry</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.to_2d_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>extract 2d geometry from 3d geometry</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>2d geometry (bottom nodes)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>UnstructuredGeometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.to_dfs2">
<span class="sig-name descname"><span class="pre">to_dfs2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y0</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation_method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">pathlib.Path</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.to_dfs2" title="Permalink to this definition">¶</a></dt>
<dd><p>Export Dfsu to Dfs2 file.</p>
<p>Export Dfsu file to a Dfs2 file with a regular 2D grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x0</strong> (<em>float</em>) – X-coordinate of the bottom left corner of the 2D grid,
must be in the same coordinate system as the parent Dfsu file.</p></li>
<li><p><strong>y0</strong> (<em>float</em>) – Y-coordinate of the bottom left corner of the 2D grid,
must be in the same coordinate system as the parent Dfsu file.</p></li>
<li><p><strong>dx</strong> (<em>float</em>) – Grid resolution in the X direction in the units of CRS defined by <cite>epsg</cite>.</p></li>
<li><p><strong>dy</strong> (<em>float</em>) – Grid resolution in the Y direction in the units of CRS defined by <cite>epsg</cite>.</p></li>
<li><p><strong>nx</strong> (<em>int</em><em>, </em><em>optional</em>) – Grid size in the X direction. By default it is 20.</p></li>
<li><p><strong>ny</strong> (<em>int</em><em>, </em><em>optional</em>) – Grid size in the Y direction. By default it is 20.</p></li>
<li><p><strong>rotation</strong> (<em>float</em><em>, </em><em>optional</em>) – Grid clockwise rotation in degrees. Be default it is 0.</p></li>
<li><p><strong>epsg</strong> (<em>int</em><em>, </em><em>optional</em>) – EPSG identificator of coordinate system
in which the Dfs2 file will be created.
If None (default), uses coordinate system of the parent Dfsu file.</p></li>
<li><p><strong>interpolation_method</strong> (<em>str</em><em>, </em><em>optional</em>) – Interpolation method, by default it is ‘nearest’.</p></li>
<li><p><strong>filename</strong> (<em>str</em><em> or </em><em>pathlib.Path</em><em>, </em><em>optional</em>) – Path to dfs2 file to be created.
If None (default), creates a temporary dfs2 file
in the system temporary directory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>mikeio Dfs2 object pointing to the file located at <cite>filename</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="dfs123.html#mikeio.Dfs2" title="mikeio.Dfs2">Dfs2</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.to_mesh">
<span class="sig-name descname"><span class="pre">to_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfilename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.to_mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>write object to mesh file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>outfilename</strong> (<em>str</em>) – path to file to be written</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.to_shapely">
<span class="sig-name descname"><span class="pre">to_shapely</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.to_shapely" title="Permalink to this definition">¶</a></dt>
<dd><p>Export mesh as shapely MultiPolygon</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>polygons with mesh elements</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>shapely.geometry.MultiPolygon</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.top_elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">top_elements</span></span><a class="headerlink" href="#mikeio.Dfsu.top_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>List of 3d element ids of surface layer</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.type_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">type_name</span></span><a class="headerlink" href="#mikeio.Dfsu.type_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Type name, e.g. Mesh, Dfsu2D</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Dfsu.valid_codes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valid_codes</span></span><a class="headerlink" href="#mikeio.Dfsu.valid_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique list of node codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_open</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a new dfsu file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – full path to the new dfsu file</p></li>
<li><p><strong>data</strong> (<em>list</em><em>[</em><em>np.array</em><em>] or </em><a class="reference internal" href="dataset.html#mikeio.Dataset" title="mikeio.Dataset"><em>Dataset</em></a>) – list of matrices, one for each item. Matrix dimension: time, x</p></li>
<li><p><strong>start_time</strong> (<em>datetime</em><em>, </em><em>optional</em><em>, </em><em>deprecated</em>) – start datetime, default is datetime.now()</p></li>
<li><p><strong>dt</strong> (<em>float</em><em>, </em><em>optional</em><em>, </em><em>deprecated</em>) – The time step (in seconds)</p></li>
<li><p><strong>items</strong> (<em>list</em><em>[</em><a class="reference internal" href="eum.html#mikeio.eum.ItemInfo" title="mikeio.eum.ItemInfo"><em>ItemInfo</em></a><em>]</em><em>, </em><em>optional</em><em>, </em><em>deprecated</em>) – </p></li>
<li><p><strong>elements</strong> (<em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – write only these element ids to file</p></li>
<li><p><strong>title</strong> (<em>str</em>) – title of the dfsu file. Default is blank.</p></li>
<li><p><strong>keep_open</strong> (<em>bool</em><em>, </em><em>optional</em>) – Keep file open for appending</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Dfsu.write_header">
<span class="sig-name descname"><span class="pre">write_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Dfsu.write_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the header of a new dfsu file (for writing huge files)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – full path to the new dfsu file</p></li>
<li><p><strong>start_time</strong> (<em>datetime</em><em>, </em><em>optional</em>) – start datetime, default is datetime.now()</p></li>
<li><p><strong>dt</strong> (<em>float</em><em>, </em><em>optional</em>) – The time step (in seconds)</p></li>
<li><p><strong>items</strong> (<em>list</em><em>[</em><a class="reference internal" href="eum.html#mikeio.eum.ItemInfo" title="mikeio.eum.ItemInfo"><em>ItemInfo</em></a><em>]</em><em>, </em><em>optional</em>) – </p></li>
<li><p><strong>elements</strong> (<em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>optional</em>) – write only these element ids to file</p></li>
<li><p><strong>title</strong> (<em>str</em>) – title of the dfsu file. Default is blank.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="s2">&quot;foo.mesh&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_elements</span> <span class="o">=</span> <span class="n">msh</span><span class="o">.</span><span class="n">n_elements</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span> <span class="o">=</span> <span class="n">Dfsu</span><span class="p">(</span><span class="n">meshfilename</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">nt</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">n_items</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">ItemInfo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Item </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_items</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">dfs</span><span class="o">.</span><span class="n">write_header</span><span class="p">(</span><span class="n">outfilename</span><span class="p">,</span> <span class="n">items</span><span class="o">=</span><span class="n">items</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">&gt;&gt;&gt; </span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">nt</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span>        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_items</span><span class="p">):</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="n">n_elements</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span>            <span class="n">f</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mesh-api">
<h2>Mesh API<a class="headerlink" href="#mesh-api" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mikeio.Mesh">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mikeio.</span></span><span class="sig-name descname"><span class="pre">Mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh" title="Permalink to this definition">¶</a></dt>
<dd><p>The Mesh class is initialized with a mesh or a dfsu file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – dfsu or mesh filename</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span> <span class="o">=</span> <span class="n">Mesh</span><span class="p">(</span><span class="s2">&quot;../tests/testdata/odense_rough.mesh&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msh</span>
<span class="go">Number of elements: 654</span>
<span class="go">Number of nodes: 399</span>
<span class="go">Projection: UTM-33</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.bottom_elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bottom_elements</span></span><a class="headerlink" href="#mikeio.Mesh.bottom_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>List of 3d element ids of bottom layer</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.boundary_codes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boundary_codes</span></span><a class="headerlink" href="#mikeio.Mesh.boundary_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique list of boundary codes</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.boundary_polylines">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">boundary_polylines</span></span><a class="headerlink" href="#mikeio.Mesh.boundary_polylines" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists of closed polylines defining domain outline</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.calc_element_coordinates">
<span class="sig-name descname"><span class="pre">calc_element_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.calc_element_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the coordinates of the center of each element.</p>
<p>Only necessary for dynamic vertical coordinates,
otherwise use the property <em>element_coordinates</em> instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>np.array</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – element ids of selected elements</p></li>
<li><p><strong>zn</strong> (<em>np.array</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – only the z-coodinates of the nodes</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">elem_ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_profile_elements</span><span class="p">(</span><span class="n">x0</span><span class="p">,</span> <span class="n">y0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Z coordinate&#39;</span><span class="p">,</span><span class="s1">&#39;Temperature&#39;</span><span class="p">],</span> <span class="n">elements</span><span class="o">=</span><span class="n">elem_ids</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ec_dyn</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">calc_element_coordinates</span><span class="p">(</span><span class="n">elements</span><span class="o">=</span><span class="n">elem_ids</span><span class="p">,</span> <span class="n">zn</span><span class="o">=</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;Z coordinate&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ds</span><span class="p">[</span><span class="s1">&#39;Temperature&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">,</span> <span class="p">:],</span> <span class="n">ec_dyn</span><span class="p">[:,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>x,y,z of each element</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.codes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">codes</span></span><a class="headerlink" href="#mikeio.Mesh.codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Node codes of all nodes (0=water, 1=land, 2…=open boundaries)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>test if a list of points are contained by mesh</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<em>array-like n-by-2</em>) – x,y-coordinates of n points to be tested</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True for points inside, False otherwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool array</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.e2_e3_table">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">e2_e3_table</span></span><a class="headerlink" href="#mikeio.Mesh.e2_e3_table" title="Permalink to this definition">¶</a></dt>
<dd><p>The 2d-to-3d element connectivity table for a 3d object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.elem2d_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">elem2d_ids</span></span><a class="headerlink" href="#mikeio.Mesh.elem2d_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>The associated 2d element id for each 3d element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.element_coordinates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">element_coordinates</span></span><a class="headerlink" href="#mikeio.Mesh.element_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Center coordinates of each element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.element_table">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">element_table</span></span><a class="headerlink" href="#mikeio.Mesh.element_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Element to node connectivity</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.elements_to_geometry">
<span class="sig-name descname"><span class="pre">elements_to_geometry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_layers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.elements_to_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>export elements to new flexible file geometry</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elements</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – list of element ids</p></li>
<li><p><strong>node_layers</strong> (<em>str</em><em>, </em><em>optional</em>) – for 3d files either ‘top’, ‘bottom’ layer nodes
or ‘all’ can be selected, by default ‘all’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>which can be used for further extraction or saved to file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>UnstructuredGeometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.find_nearest_elements">
<span class="sig-name descname"><span class="pre">find_nearest_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_distances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.find_nearest_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Find index of nearest elements (optionally for a list)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em><em> or </em><em>array</em><em>(</em><em>float</em><em>)</em>) – X coordinate(s) (easting or longitude)</p></li>
<li><p><strong>y</strong> (<em>float</em><em> or </em><em>array</em><em>(</em><em>float</em><em>)</em>) – Y coordinate(s) (northing or latitude)</p></li>
<li><p><strong>z</strong> (<em>float</em><em> or </em><em>array</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – Z coordinate(s)  (vertical coordinate, positive upwards)
If not provided for a 3d file, the surface element is returned</p></li>
<li><p><strong>layer</strong> (<em>int</em><em>, </em><em>optional</em>) – Search in a specific layer only (3D files only)
Either z or layer (0-based) can be provided for a 3D file</p></li>
<li><p><strong>n_nearest</strong> (<em>int</em><em>, </em><em>optional</em>) – return this many (horizontally) nearest points for
each coordinate set, default=1</p></li>
<li><p><strong>return_distances</strong> (<em>bool</em><em>, </em><em>optional</em>) – should the horizontal distances to each point be returned?
default=False</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>np.array</em> – element ids of nearest element(s)</p></li>
<li><p><em>np.array, optional</em> – horizontal distances</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">n_nearest</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xy</span><span class="p">,</span> <span class="n">return_distances</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="o">=-</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xyz</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ids</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">find_nearest_elements</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">n_nearest</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.find_nearest_profile_elements">
<span class="sig-name descname"><span class="pre">find_nearest_profile_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.find_nearest_profile_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Find 3d elements of profile nearest to (x,y) coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – x-coordinate of point</p></li>
<li><p><strong>y</strong> (<em>float</em>) – y-coordinate of point</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element ids of vertical profile</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.geometry2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">geometry2d</span></span><a class="headerlink" href="#mikeio.Mesh.geometry2d" title="Permalink to this definition">¶</a></dt>
<dd><p>The 2d geometry for a 3d object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.get_2d_interpolant">
<span class="sig-name descname"><span class="pre">get_2d_interpolant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_nearest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.get_2d_interpolant" title="Permalink to this definition">¶</a></dt>
<dd><p>IDW interpolant for list of coordinates</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>xy</strong> (<em>array-like</em>) – x,y coordinates of new points</p></li>
<li><p><strong>n_nearest</strong> (<em>int</em><em>, </em><em>optional</em>) – [description], by default 1</p></li>
<li><p><strong>extrapolate</strong> (<em>bool</em><em>, </em><em>optional</em>) – allow , by default False</p></li>
<li><p><strong>p</strong> (<em>float</em><em>, </em><em>optional</em>) – power of inverse distance weighting, default=2</p></li>
<li><p><strong>radius</strong> (<em>float</em><em>, </em><em>optional</em>) – an alternative to extrapolate=False,
only include elements within radius</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element ids and weights</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.get_element_area">
<span class="sig-name descname"><span class="pre">get_element_area</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.get_element_area" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the horizontal area of each element.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>areas in m2</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>np.array(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.get_layer_elements">
<span class="sig-name descname"><span class="pre">get_layer_elements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">layer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.get_layer_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>3d element ids for one (or more) specific layer(s)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>layer</strong> (<em>int</em><em> or </em><em>list</em><em>(</em><em>int</em><em>)</em>) – layer between 0 (bottom) and n_layers-1 (top)
(can also be negative counting from -1 at the top layer)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>element ids</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(int)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.get_node_centered_data">
<span class="sig-name descname"><span class="pre">get_node_centered_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapolate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.get_node_centered_data" title="Permalink to this definition">¶</a></dt>
<dd><p>convert cell-centered data to node-centered by pseudo-laplacian method</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>np.array</em><em>(</em><em>float</em><em>)</em>) – cell-centered data</p></li>
<li><p><strong>extrapolate</strong> (<em>bool</em><em>, </em><em>optional</em>) – allow the method to extrapolate, default:True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>node-centered data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array(float)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.get_node_coords">
<span class="sig-name descname"><span class="pre">get_node_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.get_node_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the coordinates of each node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>code</strong> (<em>int</em>) – Get only nodes with specific code, e.g. land == 1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>x,y,z of each node</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.get_overset_grid">
<span class="sig-name descname"><span class="pre">get_overset_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.get_overset_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>get a 2d grid that covers the domain by specifying spacing or shape</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dx</strong> (<em>float</em><em> or </em><em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – grid resolution in x-direction (or in x- and y-direction)</p></li>
<li><p><strong>dy</strong> (<em>float</em><em>, </em><em>optional</em>) – grid resolution in y-direction</p></li>
<li><p><strong>shape</strong> (<em>(</em><em>int</em><em>, </em><em>int</em><em>)</em><em>, </em><em>optional</em>) – tuple with nx and ny describing number of points in each direction
one of them can be None, in which case the value will be inferred</p></li>
<li><p><strong>buffer</strong> (<em>float</em><em>, </em><em>optional</em>) – positive to make the area larger, default=0
can be set to a small negative value to avoid NaN
values all around the domain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>2d grid</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;mikeio.Grid2D&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.interp2d">
<span class="sig-name descname"><span class="pre">interp2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elem_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.interp2d" title="Permalink to this definition">¶</a></dt>
<dd><p>interp spatially in data (2d only)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>ndarray</em><em> or </em><em>list</em><em>(</em><em>ndarray</em><em>)</em>) – dfsu data</p></li>
<li><p><strong>elem_ids</strong> (<em>ndarray</em><em>(</em><em>int</em><em>)</em>) – n sized array of 1 or more element ids used for interpolation</p></li>
<li><p><strong>weights</strong> (<em>ndarray</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – weights with same size as elem_ids used for interpolation</p></li>
<li><p><strong>shape</strong> (<em>tuple</em><em>, </em><em>optional</em>) – reshape output</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>spatially interped data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray or list(ndarray)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfsu</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">get_overset_grid</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">40</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">elem_ids</span><span class="p">,</span> <span class="n">weights</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">get_2d_interpolant</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">xy</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dsi</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">interp2d</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">elem_ids</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.is_2d">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_2d</span></span><a class="headerlink" href="#mikeio.Mesh.is_2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Type is either mesh or Dfsu2D (2 horizontal dimensions)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.is_geo">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_geo</span></span><a class="headerlink" href="#mikeio.Mesh.is_geo" title="Permalink to this definition">¶</a></dt>
<dd><p>Are coordinates geographical (LONG/LAT)?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.is_local_coordinates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_local_coordinates</span></span><a class="headerlink" href="#mikeio.Mesh.is_local_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Are coordinates relative (NON-UTM)?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.is_tri_only">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_tri_only</span></span><a class="headerlink" href="#mikeio.Mesh.is_tri_only" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the mesh consist of triangles only?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.layer_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">layer_ids</span></span><a class="headerlink" href="#mikeio.Mesh.layer_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>The layer number (0=bottom, 1, 2, …) for each 3d element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.max_nodes_per_element">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_nodes_per_element</span></span><a class="headerlink" href="#mikeio.Mesh.max_nodes_per_element" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of nodes for an element</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.n_elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_elements</span></span><a class="headerlink" href="#mikeio.Mesh.n_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of elements</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.n_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_layers</span></span><a class="headerlink" href="#mikeio.Mesh.n_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of layers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.n_layers_per_column">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_layers_per_column</span></span><a class="headerlink" href="#mikeio.Mesh.n_layers_per_column" title="Permalink to this definition">¶</a></dt>
<dd><p>List of number of layers for each column</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.n_nodes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_nodes</span></span><a class="headerlink" href="#mikeio.Mesh.n_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of nodes</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.n_sigma_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sigma_layers</span></span><a class="headerlink" href="#mikeio.Mesh.n_sigma_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of sigma layers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.n_z_layers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_z_layers</span></span><a class="headerlink" href="#mikeio.Mesh.n_z_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>Maximum number of z-layers</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.node_coordinates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node_coordinates</span></span><a class="headerlink" href="#mikeio.Mesh.node_coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Coordinates (x,y,z) of all nodes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">z</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'patch'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_refinements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_mesh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_outline</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_colorbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot unstructured data and/or mesh, mesh outline</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>z</strong> (<em>np.array</em><em> or </em><em>a Dataset with a single item</em><em>, </em><em>optional</em>) – value for each element to plot, default bathymetry</p></li>
<li><p><strong>elements</strong> (<em>list</em><em>(</em><em>int</em><em>)</em><em>, </em><em>optional</em>) – list of element ids to be plotted</p></li>
<li><p><strong>plot_type</strong> (<em>str</em><em>, </em><em>optional</em>) – type of plot: ‘patch’ (default), ‘mesh_only’, ‘shaded’,
‘contour’, ‘contourf’ or ‘outline_only’</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – axes title</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – colorbar label (or title if contour plot)</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib.cm.cmap</em><em>, </em><em>optional</em>) – colormap, default viridis</p></li>
<li><p><strong>vmin</strong> (<em>real</em><em>, </em><em>optional</em>) – lower bound of values to be shown on plot, default:None</p></li>
<li><p><strong>vmax</strong> (<em>real</em><em>, </em><em>optional</em>) – upper bound of values to be shown on plot, default:None</p></li>
<li><p><strong>levels</strong> (<em>int</em><em>, </em><em>list</em><em>(</em><em>float</em><em>)</em><em>, </em><em>optional</em>) – for contour plots: how many levels, default:10
or a list of discrete levels e.g. [3.0, 4.5, 6.0]</p></li>
<li><p><strong>show_mesh</strong> (<em>bool</em><em>, </em><em>optional</em>) – should the mesh be shown on the plot? default=True</p></li>
<li><p><strong>show_outline</strong> (<em>bool</em><em>, </em><em>optional</em>) – should domain outline be shown on the plot? default=True</p></li>
<li><p><strong>n_refinements</strong> (<em>int</em><em>, </em><em>optional</em>) – for ‘shaded’ and ‘contour’ plots (and if show_mesh=False)
do this number of mesh refinements for smoother plotting</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – specify size of figure</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em><em>, </em><em>optional</em>) – Adding to existing axis, instead of creating new fig</p></li>
<li><p><strong>add_colorbar</strong> (<em>bool</em>) – Add colorbar to plot, default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;matplotlib.axes&gt;</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span> <span class="o">=</span> <span class="n">Dfsu</span><span class="p">(</span><span class="s2">&quot;HD2D.dfsu&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span> <span class="c1"># bathymetry</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o">=</span> <span class="n">dfs</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="s2">&quot;Surface elevation&quot;</span><span class="p">,</span> <span class="n">time_steps</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(1, 884)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds</span><span class="o">.</span><span class="n">n_items</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dfs</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="n">ds</span><span class="p">)</span> <span class="c1"># plot surface elevation</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.plot_boundary_nodes">
<span class="sig-name descname"><span class="pre">plot_boundary_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boundary_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.plot_boundary_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot mesh boundary nodes and their codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.plot_vertical_profile">
<span class="sig-name descname"><span class="pre">plot_vertical_profile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.plot_vertical_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot unstructured vertical profile</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>np.array</em>) – value for each element to plot</p></li>
<li><p><strong>timestep</strong> (<em>int</em><em>, </em><em>optional</em>) – the timestep that fits with the data to get correct vertical
positions, default: use static vertical positions</p></li>
<li><p><strong>cmin</strong> (<em>real</em><em>, </em><em>optional</em>) – lower bound of values to be shown on plot, default:None</p></li>
<li><p><strong>cmax</strong> (<em>real</em><em>, </em><em>optional</em>) – upper bound of values to be shown on plot, default:None</p></li>
<li><p><strong>title</strong> (<em>str</em><em>, </em><em>optional</em>) – axes title</p></li>
<li><p><strong>label</strong> (<em>str</em><em>, </em><em>optional</em>) – colorbar label</p></li>
<li><p><strong>cmap</strong> (<em>matplotlib.cm.cmap</em><em>, </em><em>optional</em>) – colormap, default viridis</p></li>
<li><p><strong>figsize</strong> (<em>(</em><em>float</em><em>, </em><em>float</em><em>)</em><em>, </em><em>optional</em>) – specify size of figure</p></li>
<li><p><strong>ax</strong> (<em>matplotlib.axes</em><em>, </em><em>optional</em>) – Adding to existing axis, instead of creating new fig</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>&lt;matplotlib.axes&gt;</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.projection_string">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">projection_string</span></span><a class="headerlink" href="#mikeio.Mesh.projection_string" title="Permalink to this definition">¶</a></dt>
<dd><p>The projection string</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.to_2d_geometry">
<span class="sig-name descname"><span class="pre">to_2d_geometry</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.to_2d_geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>extract 2d geometry from 3d geometry</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>2d geometry (bottom nodes)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>UnstructuredGeometry</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.to_shapely">
<span class="sig-name descname"><span class="pre">to_shapely</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.to_shapely" title="Permalink to this definition">¶</a></dt>
<dd><p>Export mesh as shapely MultiPolygon</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>polygons with mesh elements</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>shapely.geometry.MultiPolygon</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.top_elements">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">top_elements</span></span><a class="headerlink" href="#mikeio.Mesh.top_elements" title="Permalink to this definition">¶</a></dt>
<dd><p>List of 3d element ids of surface layer</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.type_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">type_name</span></span><a class="headerlink" href="#mikeio.Mesh.type_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Type name, e.g. Mesh, Dfsu2D</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.valid_codes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valid_codes</span></span><a class="headerlink" href="#mikeio.Mesh.valid_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique list of node codes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mikeio.Mesh.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outfilename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elements</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mikeio.Mesh.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write mesh to file (will overwrite if file exists)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outfilename</strong> (<em>str</em>) – path to file</p></li>
<li><p><strong>elements</strong> (<em>list</em><em>(</em><em>int</em><em>)</em>) – list of element ids (subset) to be saved to new mesh</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mikeio.Mesh.zn">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zn</span></span><a class="headerlink" href="#mikeio.Mesh.zn" title="Permalink to this definition">¶</a></dt>
<dd><p>Static bathymetry values (depth) at nodes</p>
</dd></dl>

</dd></dl>

</div>
</div>


              </div>
              
        
            <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="dfs123.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Dfs1, Dfs2 and Dfs3</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="eum.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">EUM and items</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Henrik Andersson, Marc Ridler, Jesper Mariegaard, Rasmus Halvgaard<br/>
        
            &copy; Copyright 2021, Henrik Andersson, Marc Ridler, Jesper Mariegaard, Rasmus Halvgaard.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>
# Dfs1, Dfs2 and Dfs3

MIKE IO has a similar API for the three gridded dfs file types: Dfs1, Dfs2 and Dfs2. 

All Dfs classes (and the Dataset) class are representations of timeseries and 
share these properties: 

* items - a list of [`ItemInfo`](ItemInfo) with name, type and unit of each item
* n_items - Number of items
* n_timesteps - Number of timesteps
* start_time - First time instance (as datetime)
* end_time - Last time instance (as datetime)
* geometry - spatial description of the data in the file ([Grid1D](Grid1D), [Grid2D](Grid2D), or [Grid3D](Grid3D))
* deletevalue - File delete value (NaN value)



## Dfs1

A dfs1 file contains node-based line series data. Dfs1 files do not contain enough metadata to determine their geographical position, but have a relative distance from the origo. 
The spatial information is available in the `geometry` attribute, which in the case of a dfs1 file is a [`Grid1D`](Grid1D) geometry. 

```python
>>> import mikeio
>>> ds = mikeio.read("tide1.dfs1")
>>> ds
<mikeio.Dataset>
dims: (time:97, x:10)
time: 2019-01-01 00:00:00 - 2019-01-03 00:00:00 (97 records)
geometry: Grid1D (n=10, dx=0.06667)
items:
  0:  Level <Water Level> (meter)

>>> ds.geometry
<mikeio.Grid1D>
x: [0, 0.06667, ..., 0.6] (nx=10, dx=0.06667)
```


## Dfs2

A dfs2 file is also called a grid series file. Values in a dfs2 file are ‘element based’, i.e. values are defined in the centre of each grid cell. 
The spatial information is available in the `geometry` attribute, which in the case of a dfs2 file is a [`Grid2D`](Grid2D) geometry. 

```python
>>> import mikeio
>>> ds = mikeio.read("gebco_sound.dfs2")
>>> ds
<mikeio.Dataset>
dims: (time:1, y:264, x:216)
time: 2020-05-15 11:04:52 (time-invariant)
geometry: Grid2D (ny=264, nx=216)
items:
  0:  Elevation <Total Water Depth> (meter)

>>> ds.geometry
<mikeio.Grid2D>
x: [12.2, 12.21, ..., 13.1] (nx=216, dx=0.004167)
y: [55.2, 55.21, ..., 56.3] (ny=264, dy=0.004167)
projection: LONG/LAT
```


### Dfs2 Example notebooks

* [Dfs2-Bathymetry](https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfs2%20-%20Bathymetry.ipynb) - GEBCO NetCDF/xarray to dfs2 
* [Dfs2-Boundary](https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfs2%20-%20Boundary.ipynb) - Vertical transect dfs2, interpolation in time 
* [Dfs2-Export-to-netCDF](https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfs2%20-%20Export%20to%20netcdf.ipynb) Export dfs2 to NetCDF
* [Dfs2-GFS](https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfs2%20-%20Global%20Forecasting%20System.ipynb) - GFS NetCDF/xarray to dfs2
* [Dfs2-SST](https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfs2%20-%20Sea%20surface%20temperature.ipynb) - DMI NetCDF/xarray to dfs2 
* [Dfs2 | getting-started-with-mikeio](https://dhi.github.io/getting-started-with-mikeio/dfs2.html)


## Dfs3

A dfs3 file contains 3D gridded data.  
The spatial information is available in the `geometry` attribute, which in the case of a dfs3 file is a [`Grid3D`](Grid3D) geometry. 

```python
>>> import mikeio
>>> ds = mikeio.read("dissolved_oxygen.dfs2")
>>> ds
<mikeio.Dataset>
dims: (time:1, z:17, y:112, x:91)
time: 2001-12-28 00:00:00 (time-invariant)
geometry: Grid3D(nz=17, ny=112, nx=91)
items:
  0:  Diss. oxygen (mg/l) <Concentration 3> (mg per liter)

>>> ds.geometry
<mikeio.Grid3D>
x: [0, 150, ..., 1.35e+04] (nx=91, dx=150)
y: [0, 150, ..., 1.665e+04] (ny=112, dy=150)
z: [0, 1, ..., 16] (nz=17, dz=1)
origin: (10.37, 55.42), orientation: 18.125
projection: PROJCS["UTM-32",GEOGCS["Unused",DATUM["UTM...
```

A specific layer can be read with the `layers` argument, in which case a 2D Dataset will be returned: 

```python
>>> import mikeio
>>> mikeio.read("dissolved_oxygen.dfs2", layers="bottom")
<mikeio.Dataset>
dims: (time:1, y:112, x:91)
time: 2001-12-28 00:00:00 (time-invariant)
geometry: Grid2D (ny=112, nx=91)
items:
  0:  Diss. oxygen (mg/l) <Concentration 3> (mg per liter)
```


### Dfs3 Example notebooks

* [Dfs3-Basic](https://nbviewer.jupyter.org/github/DHI/mikeio/blob/main/notebooks/Dfs3%20-%20Basix.ipynb)  



## Dfs1 API

```{eval-rst}
.. autoclass:: mikeio.Dfs1
	:members:
	:inherited-members:
```

## Grid1D API

```{eval-rst}
.. autoclass:: mikeio.Grid1D
	:members:
	:inherited-members:
```

## Dfs2 API

```{eval-rst}
.. autoclass:: mikeio.Dfs2
	:members:
	:inherited-members:
```

## Grid2D API

```{eval-rst}
.. autoclass:: mikeio.Grid2D
	:members:
	:inherited-members:
```


## Dfs3 API

```{eval-rst}
.. autoclass:: mikeio.Dfs3
	:members:
	:inherited-members:
```

## Grid3D API

```{eval-rst}
.. autoclass:: mikeio.Grid3D
	:members:
	:inherited-members:
```

